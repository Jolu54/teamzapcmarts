{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/home/deploy/teamzap/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"/home/deploy/teamzap/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\nvar _assertThisInitialized = require(\"/home/deploy/teamzap/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized\");\nvar _inherits = require(\"/home/deploy/teamzap/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\nvar _createSuper = require(\"/home/deploy/teamzap/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _Base = require(\"../styles/Base\");\nvar _autosize = _interopRequireDefault(require(\"autosize\"));\nvar InlineInputController = /*#__PURE__*/function (_react$default$Compon) {\n  _inherits(InlineInputController, _react$default$Compon);\n  var _super = _createSuper(InlineInputController);\n  function InlineInputController() {\n    var _this;\n    _classCallCheck(this, InlineInputController);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"onFocus\", function (e) {\n      return e.target.select();\n    });\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      if (document.activeElement != e.target) {\n        e.preventDefault();\n        _this.refInput.focus();\n      }\n    });\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"onBlur\", function () {\n      _this.updateValue();\n    });\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      if (e.keyCode == 13) {\n        _this.refInput.blur();\n        e.preventDefault();\n      }\n      if (e.keyCode == 27) {\n        _this.setValue(_this.props.value);\n        _this.refInput.blur();\n        e.preventDefault();\n      }\n      if (e.keyCode == 9) {\n        if (_this.getValue().length == 0) {\n          _this.props.onCancel();\n        }\n        _this.refInput.blur();\n        e.preventDefault();\n      }\n    });\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"getValue\", function () {\n      return _this.refInput.value;\n    });\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"setValue\", function (value) {\n      return _this.refInput.value = value;\n    });\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"updateValue\", function () {\n      if (_this.getValue() != _this.props.value) {\n        _this.props.onSave(_this.getValue());\n      }\n    });\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"setRef\", function (ref) {\n      _this.refInput = ref;\n      if (_this.props.resize != 'none') {\n        (0, _autosize.default)(_this.refInput);\n      }\n    });\n    return _this;\n  }\n  _createClass(InlineInputController, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      this.setValue(nextProps.value);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        autoFocus = _this$props.autoFocus,\n        border = _this$props.border,\n        value = _this$props.value,\n        placeholder = _this$props.placeholder;\n      return _react.default.createElement(_Base.InlineInput, {\n        ref: this.setRef,\n        border: border,\n        onMouseDown: this.onMouseDown,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        onKeyDown: this.onKeyDown,\n        placeholder: value.length == 0 ? undefined : placeholder,\n        defaultValue: value,\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        autoCapitalize: \"off\",\n        spellCheck: \"false\",\n        dataGramm: \"false\",\n        rows: 1,\n        autoFocus: autoFocus\n      });\n    }\n  }]);\n  return InlineInputController;\n}(_react.default.Component);\nInlineInputController.propTypes = {\n  onSave: _propTypes.default.func,\n  border: _propTypes.default.bool,\n  placeholder: _propTypes.default.string,\n  value: _propTypes.default.string,\n  autoFocus: _propTypes.default.bool,\n  resize: _propTypes.default.oneOf(['none', 'vertical', 'horizontal'])\n};\nInlineInputController.defaultProps = {\n  onSave: function onSave() {},\n  placeholder: '',\n  value: '',\n  border: false,\n  autoFocus: false,\n  resize: 'none'\n};\nvar _default = InlineInputController;\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}